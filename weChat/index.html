<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./icon/iconfont.css" />
    <link rel="stylesheet" href="./css/common.css" />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/chatInfo.css" />
    <link rel="stylesheet" href="./css/chatGroup.css" />
  </head>
  <body>
    <div id="container"></div>
  </body>

<script src="./lib/template-web.js"></script>
<script type="module">
    import Navigation from "./js/navigation.js";
    import observer from "./js/observer.js";
    import config from "./config/config.js";
    import {getPath} from "./util/utils.js";
    const navigator =  Navigation.getInstance(config);
				window.onpopstate = () => {
						const path = getPath();
						const has = navigator.isHas(path);
						if (has) {
								observer.publish("back");
						} else {
								observer.publish("go",path);
						}
				};
				function addListeners(){
						observer.addListener("go", (path) => {
								navigator.go(path);
						});
						observer.addListener("back", () => {
								navigator.back();
						});
				}
				addListeners();
    navigator.init();
</script>
</html>
